<!DOCTYPE html>
<html lang="nl">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ankers & Klanken oefenen</title>

  <!-- Umami alleen online gebruik meten -->
  <script>
    (function () {
      var ANALYTICS_ENABLED = location.protocol !== 'file:';
      if (ANALYTICS_ENABLED) {
        var s = document.createElement('script');
        s.defer = true;
        s.src = "https://cloud.umami.is/script.js";
        s.setAttribute('data-website-id', 'fe4f4910-6d1b-4fbb-88b6-ba64b430d819');
        document.head.appendChild(s);
      }
    })();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="index/style.css">
</head>

<body>
  <div id="versionTopGlobal">
    ️versie <strong>1.12</strong> ·
    💬&nbsp;<span id="feedbackLink" tabindex="0" title="Vragen of feedback? Vraag pappa Louis">feedback?</span> ·
    📋&nbsp;<span id="changelogLink" tabindex="0" title="Bekijk wijzigingen">changelog</span> ·
    📊&nbsp;<span id="resultatenLink" tabindex="0" title="Bekijk resultaten">resultaten</span>
  </div>

  <!-- Pagina 1: Intro -->
  <div id="page1" class="page active">
    <div class="card">
      <h1>Welkom bij ankers & klanken oefenen</h1>
      <div class="intro">
        <p>⚓️ <strong>Anker klaar? Oefenen maar!</strong></p>
        <p>Kies het oefentype.</p>
        <p>Bij <em>ankers</em> oefen je volledige woorden.</p>
        <p>Bij <em>klanken</em> kies je de klanken waar je extra op wil oefenen.</p>
        <p><strong>Jij bent de coach:</strong> klik steeds of het woord goed of fout gelezen is.</p>
        <p>Veel oefenplezier!</p>
      </div>

      <div class="groepen">
        <!-- Oefentype -->
        <fieldset class="optiegroep" id="fieldset-type">
          <legend>Oefentype</legend>
          <div class="row">
            <label class="inline"><input type="radio" name="type" value="ankers" checked> <span>Ankers</span></label>
            <label class="inline"><input type="radio" name="type" value="klinkers"> <span>Klanken</span></label>
            <label class="inline"><input type="radio" name="type" value="lezen"> <span>Lezen</span></label>
          </div>
        </fieldset>

        <!-- Klinkers (alleen voor Klanken) -->
        <fieldset class="optiegroep" id="fieldset-klinkers" style="display:none;">
          <legend>Kies klanken om te oefenen</legend>
          <div class="klinker-groepen" id="klinkerChips"></div>
          <div class="iconrow">
            <button class="iconbtn" type="button" id="btnAll">alles</button>
            <button class="iconbtn" type="button" id="btnNone">niets</button>
          </div>
        </fieldset>

        <!-- Klankers submodus (na kiezen klanken) -->
        <fieldset class="optiegroep" id="fieldset-klinkers-submode" style="display:none;">
          <legend>Klanken: wat wil je oefenen?</legend>
          <div class="row">
            <label class="inline"><input type="radio" name="klinkerSub" value="puur" checked> <span>Puur klanken
                oefenen</span></label>
            <label class="inline"><input type="radio" name="klinkerSub" value="woorden"> <span>Woordjes met aangevinkte
                klanken</span></label>
          </div>
          <div style="font-size:13px; color:#475569; margin-top:4px;"></div>
        </fieldset>

        <!-- Lezen categorieën -->
        <fieldset class="optiegroep" id="fieldset-lezen" style="display:none;">
          <legend>Kies categorie (Lezen)</legend>

          <div class="row lezen-row" data-lezen="functiewoorden" tabindex="0">
            <label>
              <input type="radio" name="lezenCat" value="functiewoorden" checked>
              Functiewoorden
            </label>
          </div>

          <div class="row lezen-row" data-lezen="zinnetjes" tabindex="0">
            <label>
              <input type="radio" name="lezenCat" value="zinnetjes">
              Zinnetjes
            </label>
          </div>

          <div style="font-size:14px; color:#64748b;">
            Tip: hover over een categorie om de woordjes of zinnetjes te zien.
          </div>
        </fieldset>



        <!-- Ankers (alleen voor Ankers) -->
        <fieldset class="optiegroep" id="fieldset-anker">
          <legend>Kies een anker</legend>
          <div class="row anker-row" data-anker="1" tabindex="0">
            <label><input type="radio" name="anker" value="1" checked> Anker 1</label>
          </div>
          <div class="row anker-row" data-anker="2" tabindex="0">
            <label><input type="radio" name="anker" value="2"> Anker 2</label>
          </div>
          <div class="row anker-row" data-anker="3" tabindex="0">
            <label><input type="radio" name="anker" value="3"> Anker 3</label>
          </div>
          <div class="row anker-row" data-anker="4" tabindex="0">
            <label><input type="radio" name="anker" value="4"> Anker 4</label>
          </div>
          <div class="row anker-row" data-anker="5" tabindex="0">
            <label><input type="radio" name="anker" value="5"> Anker 5</label>
          </div>
          <div class="row anker-row" data-anker="6" tabindex="0">
            <label><input type="radio" name="anker" value="6"> Anker 6</label>
          </div>
          <div class="row anker-row" data-anker="7" tabindex="0">
            <label><input type="radio" name="anker" value="7"> Anker 7</label>
          </div>
          <div class="row anker-row" data-anker="8" tabindex="0">
            <label><input type="radio" name="anker" value="8"> Anker 8</label>
          </div>
          <div style="font-size:14px; color:#64748b;">Tip: hover over een anker/klanken om de woordjes te zien.</div>
        </fieldset>

        <!-- Ankers (aantal woorden of minuten) -->
        <fieldset class="optiegroep" id="fieldset-modus">
          <legend>Oefenmodus</legend>

          <div class="form-row" id="row-woorden">
            <label class="inline" for="aantalInput">
              <input type="radio" id="modus-woorden" name="modus" value="woorden">
              <span>Aantal items</span>
            </label>
            <input id="aantalInput" type="number" min="1" max="50" value="15" disabled>
          </div>

          <div class="form-row" id="row-minuten">
            <label class="inline" for="minutenInput">
              <input type="radio" id="modus-minuten" name="modus" value="minuten" checked>
              <span>Aantal minuten</span>
            </label>
            <input id="minutenInput" type="number" min="1" max="3" value="1">
          </div>

          <div id="errorMsg" style="color:red; font-size:14px; margin:4px 0 2px 0;"></div>
        </fieldset>

        <fieldset class="optiegroep" id="fieldset-extra">
          <legend>Flits functie (optioneel)</legend>
          <div class="tip-extra" style="font-size:14px; color:#64748b; margin:4px 0 8px;">
            <div><strong>Wil je oefenen met flitsen?</strong></div>
            <div>Door deze functie aan te zetten wordt het woord kort weergegeven.<br>(De snelheid is instelbaar).
              <span class="dots-icon" aria-hidden="true"
                style="display:inline-block;vertical-align:middle;transform:translateY(1px);">
                <svg width="36" height="12" viewBox="0 0 48 16" fill="none">
                  <circle cx="8" cy="8" r="4" fill="#0f172a" />
                  <circle cx="24" cy="8" r="4" fill="#0f172a" />
                  <circle cx="40" cy="8" r="4" fill="#0f172a" />
                </svg>
              </span>.
            </div>
          </div>
          <div class="row extra-row"
            style="display:flex;flex-direction:column;gap:10px;align-items:flex-start;text-align:left;">
            <label class="inline flits-label" for="flitsInput" style="display:inline-flex;align-items:center;gap:10px;">
              <!-- Camera icon (inline SVG) -->
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" focusable="false">
                <path
                  d="M4 7h3l1.2-2.4A2 2 0 0 1 10 3h4a2 2 0 0 1 1.8 1.1L17 7h3a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2z"
                  stroke="#0f172a" stroke-width="1.5" fill="none" />
                <circle cx="12" cy="14" r="4" stroke="#0f172a" stroke-width="1.5" fill="none" />
              </svg>
              <span>Flitslezen</span>
              <span class="switch">
                <input type="checkbox" id="flitsInput" name="flits" />
                <span class="slider"></span>
              </span>
            </label>
            <div class="secs-group" style="display:inline-flex;align-items:center;gap:10px;">
              <label for="flitsSeconden" style="font-size:16px;">Duur weergave</label>
              <input id="flitsSeconden" type="number" min="0.2" max="5" step="0.1" value="1.5" style="width:110px;" />
              <span style="font-size:14px; color:#475569;">seconde(n)</span>
            </div>
          </div>
        </fieldset>

      </div>

      <div style="text-align:center; margin-top:8px;">
        <button class="btn" id="btnStart">Start</button>
      </div>
    </div>
  </div>

  <!-- Pagina 2: Oefenen -->
  <div id="page2" class="page">
    <div class="card">
      <button class="quit" id="btnQuit" title="Afbreken">✕</button>
      <h1 class="champion-title" id="page2Title">Lees dit woordje hardop</h1>
      <div id="woord" aria-live="polite">Item</div>
      <div id="subInfo" class="subline"></div>
      <div class="answers" style="text-align:center;">
        <button id="btnJuist" class="btn btn-antwoord" title="Juist">✓</button>
        <button id="btnOnjuist" class="btn btn-antwoord" title="Onjuist">✗</button>
      </div>
      <div class="kb-hint" style="text-align:center;">Sneltoetsen: <kbd>J</kbd> = Juist, <kbd>F</kbd> = Fout,
        <kbd>Esc</kbd> = Afbreken
      </div>
    </div>
  </div>

  <!-- Pagina 3: Resultaat -->
  <div id="page3" class="page">
    <div class="card">
      <h1 class="champion-title">Resultaat</h1>
      <div class="result-hero" onmousemove="moveShine(event)">
        <div class="shine"></div>
        <div class="trophy"><span>🏆</span></div>
        <div class="cele-title">Resultaat</div>
        <div id="resultaat" class="cele-msg"></div>
        <div class="pill-wrap">
          <div id="pill-tijd" class="pill">Tijd: -- s</div>
          <div id="pill-snel" class="pill secondary">Snelheid: -- ipm</div>
        </div>
      </div>
      <div style="text-align:center; margin-top:10px;">
        <button class="btn" id="btnAgain">opnieuw beginnen</button>
      </div>
      <div style="text-align:left; margin-top:10px;" class="reset-wrap">
        <button id="btnReset" class="icon-only" data-tooltip="Resultaat verwijderen">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="#3391c3" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"
            style="vertical-align:middle;margin-right:6px;">
            <polyline points="3 6 5 6 21 6"></polyline>
            <path d="M19 6l-1 14H6L5 6m5-2h4a1 1 0 0 1 1 1v1H9V5a1 1 0 0 1 1-1z"></path>
            <line x1="10" y1="11" x2="10" y2="17"></line>
            <line x1="14" y1="11" x2="14" y2="17"></line>
          </svg>
        </button>

      </div>
      <!-- Resultaatgrafiek -->
      <div id="chartContainer" style="display:none; text-align:center; margin-top:20px;">
        <canvas id="resultChart" style="width:100%;height:300px"></canvas>
      </div>
    </div>
  </div>

  <!-- Effects + Feedback overlay -->
  <canvas id="confetti-canvas"></canvas>
  <canvas id="fireworks-canvas"></canvas>
  <div id="tapFeedback" aria-hidden="true">
    <div class="badge"></div>
  </div>

  <!-- Feedback -->
  <div id="feedbackTip">Vragen of feedback? Vraag pappa Louis</div>

  <!-- Changelog -->
  <div id="changelogTip">
    <table id="changelogTable" class="tg">
      <thead>
        <tr>
          <th>Versie</th>
          <th>Type</th>
          <th>Omschrijving</th>
        </tr>
      </thead>
      <tbody>
        <!-- Wordt door JS gevuld -->
      </tbody>
    </table>
  </div>

  <!-- Resultaten hover popup -->
  <div id="resultatenTip" class="resultaten-popup" style="display:block;">
    <h2 class="resultaten-title">Resultaten</h2>

    <div id="resultatenChartContainer">
      <canvas id="resultatenChart"></canvas>
    </div>


    <div class="reset-wrap" style="text-align:left; margin-top:10px;">
      <button id="btnResetPopup" class="icon-only" data-tooltip="Resultaten wissen">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#3391c3"
          stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"
          style="vertical-align:middle;margin-right:6px;">
          <polyline points="3 6 5 6 21 6"></polyline>
          <path d="M19 6l-1 14H6L5 6m5-2h4a1 1 0 0 1 1 1v1H9V5a1 1 0 0 1 1-1z"></path>
          <line x1="10" y1="11" x2="10" y2="17"></line>
          <line x1="14" y1="11" x2="14" y2="17"></line>
        </svg>
      </button>
    </div>


  </div>
  </div>




  <!-- Bevestigingspopup voor wissen resultaten -->
  <div id="confirmOverlay" class="confirm-overlay" style="display:none;">
    <div class="confirm-box">
      <p id="confirmMessage">Weet je zeker dat je alle resultaten wilt wissen?</p>
      <div class="confirm-buttons">
        <button id="confirmJa">Ja</button>
        <button id="confirmNee">Nee</button>
      </div>
    </div>
  </div>

  <!-- Melding-popup -->
  <div id="meldingOverlay" class="confirm-overlay" style="display:none;">
    <div class="confirm-box">
      <p id="meldingMessage">Alle resultaten zijn gewist.</p>
      <div class="confirm-buttons">
        <button id="meldingOk">OK</button>
      </div>
    </div>
  </div>

  <!-- externe changelog css/js -->
  <link rel="stylesheet" href="changelog/changelog.css">
  <script src="changelog/changelog.js"></script>
  <script src="index/script.js"></script>


  <!-- EBX-stijl bevestigingspopup -->
  <div id="confirmModal" class="modal" style="display:none;">
    <div class="modal-content">
      <p id="confirmMessage"></p>
      <div class="modal-buttons">
        <button id="btnJa" class="ebx-btn ebx-btn-primary">Ja</button>
        <button id="btnNee" class="ebx-btn ebx-btn-secondary">Nee</button>
      </div>
    </div>
  </div>


</body>

</html>
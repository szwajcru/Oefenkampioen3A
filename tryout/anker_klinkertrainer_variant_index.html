<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Woordrijen & Klinkers oefenen - Anker</title>
  <script defer src="https://cloud.umami.is/script.js" data-website-id="fe4f4910-6d1b-4fbb-88b6-ba64b430d819"></script>
  <style>
    :root{
      --ebx-blauw:#01689B; --ebx-blauw-dark:#014f73; --groen:#16a34a; --rood:#dc2626; --ring:#cbd5e1; --ink:#0f172a;
    }
    *{ box-sizing:border-box; }
    body{ margin:0; padding:0; font-family:Arial, sans-serif; background:#f6f8fb; }
    .page{ display:none; min-height:100vh; flex-direction:column; justify-content:center; align-items:center; padding:24px; }
    .active{ display:flex; }
    .card{ background:white; border:3px solid var(--ebx-blauw); border-radius:18px; padding:30px 40px; box-shadow:0 10px 30px rgba(0,0,0,.15); max-width:960px; width:calc(100% - 48px); position:relative; }
    h1{ font-size:28px; margin:0 0 16px 0; text-align:center; }
    .champion-title{ font-size:50px; color:var(--ebx-blauw); margin:8px 0 12px 0; text-align:center; }
    #woord{ font-size:clamp(72px, 14vw, 140px); font-weight:800; margin:12px 0 6px 0; line-height:1.05; letter-spacing:1px; text-align:center; }
    .subline{ color:#475569; margin-bottom:10px; text-align:center; }

    .btn{ font-size:20px; margin:10px; padding:10px 26px; border-radius:12px; background-color:var(--ebx-blauw); color:white; border:none; cursor:pointer; transition:transform .08s ease, box-shadow .08s ease, background-color .15s ease; user-select:none; -webkit-tap-highlight-color:transparent; box-shadow:0 6px 0 rgba(0,0,0,.18); outline-offset:4px; }
    .btn:hover{ background-color:var(--ebx-blauw-dark); }
    .btn:active, .btn.is-pressed{ transform:translateY(2px) scale(.98); box-shadow:0 2px 0 rgba(0,0,0,.18), inset 0 0 0 2px rgba(255,255,255,.25); filter:saturate(1.05); }
    .btn[disabled]{ opacity:.6; cursor:not-allowed; }

    .btn-antwoord{ font-weight:900; font-size:clamp(24px, 3.4vw, 36px); padding:16px 34px; border-radius:16px; min-width:min(40vw, 320px); min-height:80px; letter-spacing:.2px; display:inline-flex; align-items:center; justify-content:center; line-height:1; }
    .answers{ display:grid; gap:16px; grid-template-columns:1fr; justify-items:center; margin-top:6px; }
    @media (min-width:720px){ .answers{ grid-template-columns:1fr 1fr; gap:20px; } }

    input[type=number]{ font-size:20px; height:44px; padding:8px 12px; text-align:center; width:100px; margin:0; border-radius:8px; border:2px solid #cbd5e1; line-height:1; }

    .groepen{ display:grid; gap:16px; margin-top:8px; grid-template-columns:1fr; }
    @media (min-width: 980px){ .groepen{ grid-template-columns:1fr 1fr 1fr; align-items:start; } }
    fieldset.optiegroep{ border:2px solid var(--ring); border-radius:12px; padding:12px 14px; max-width:700px; width:100%; }
    fieldset.optiegroep legend{ padding:0 6px; font-weight:700; }
    .row{ display:flex; align-items:center; gap:10px; margin:6px 0; flex-wrap:wrap; }
    .row > label{ display:flex; align-items:center; gap:10px; cursor:pointer; }
    .inline{ display:flex; align-items:center; gap:8px; }
    .intro{ max-width: 820px; margin: 0 auto 10px; text-align:center; line-height:1.6; }

    .chipset{ display:flex; flex-wrap:wrap; gap:8px; }
    .chip{ border:1px solid #e2e8f0; border-radius:999px; padding:6px 10px; display:inline-flex; align-items:center; gap:8px; }

    .quit{ position:absolute; top:10px; right:10px; width:32px; height:32px; display:grid; place-items:center; color:#64748b; border:1px solid #e5e7eb; background:#fff; border-radius:10px; cursor:pointer; box-shadow:0 2px 8px rgba(0,0,0,.06); }

    #toast{ position:fixed; left:50%; top:16px; transform:translateX(-50%); background:rgba(15,23,42,.92); color:#fff; padding:10px 14px; border-radius:10px; font-weight:700; box-shadow:0 10px 30px rgba(0,0,0,.25); opacity:0; transition:opacity .15s ease; z-index:40; pointer-events:none; }
    #toast.show{ opacity:1; }

    #tapFeedback{ position:fixed; inset:0; display:grid; place-items:center; pointer-events:none; opacity:0; transition:opacity .18s ease; z-index:15; }
    #tapFeedback.show{ opacity:1; }
    #tapFeedback .badge{ font-weight:900; font-size:clamp(48px, 7vw, 72px); padding:10px 20px; border-radius:16px; color:white; box-shadow:0 20px 40px rgba(0,0,0,.25); }
    #tapFeedback .ok{ background:var(--groen); } #tapFeedback .nok{ background:var(--rood); }

    /* Resultaat-blok */
    .result-hero{ position:relative; border:0; padding:26px 20px 24px; border-radius:20px; background:linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 18%, #fdf2f8 55%, #fef3c7 100%); overflow:hidden; }
    .trophy{ width:90px; height:90px; border-radius:50%; background:#fff; display:grid; place-items:center; box-shadow:0 14px 40px rgba(0,0,0,.12); margin:0 auto 8px; }
    .cele-title{ text-align:center; font-size:28px; margin:6px 0 8px; color:#0f172a; }
    .cele-msg{ text-align:center; font-size:22px; margin:2px 0 8px; }
    .pill-wrap{ display:flex; gap:12px; flex-wrap:wrap; justify-content:center; margin-top:8px; }
    .pill{ border-radius:999px; padding:10px 16px; background:#0ea5e9; color:#fff; font-weight:800; box-shadow:0 10px 30px rgba(14,165,233,.35); font-size:18px; }
    .pill.secondary{ background:#22c55e; box-shadow:0 10px 30px rgba(34,197,94,.35); }

    /* Layout tweaks voor intro en resultaten */
    #page1.page, #page3.page{ justify-content:center !important; align-items:center !important; min-height:100svh; padding-top:0; }
    #page1 .card, #page3 .card{ max-width:980px; width:clamp(560px, 84vw, 980px); }

    @media (hover:none) and (pointer:coarse){ #page1 .card, #page3 .card{ width:clamp(480px, 90vw, 920px); } }
  </style>
</head>
<body>

  <!-- Pagina 1: Intro -->
  <div id="page1" class="page active">
    <div class="card">
      <h1>Welkom bij ankerwoordjes & klinkers oefenen</h1>
      <p class="intro">Kies eerst <strong>Oefentype</strong>. Bij <em>Woordjes</em> kies je een anker en oefen je volledige woorden. Bij <em>Klinkers</em> kies je welke klinkers/klinkercombinaties je wilt oefenen (aa, ee, uu, ui, enz.). Daarna kies je of je op <strong>aantal woorden</strong> of <strong>aantal minuten</strong> wil oefenen.</p>

      <div class="groepen">
        <!-- Oefentype -->
        <fieldset class="optiegroep" id="fieldset-type">
          <legend>Oefentype</legend>
          <div class="row">
            <label class="inline"><input type="radio" name="type" value="woorden" checked onchange="wisselType()"><span>Woordjes</span></label>
            <label class="inline"><input type="radio" name="type" value="klinkers" onchange="wisselType()"><span>Klinkers</span></label>
          </div>
        </fieldset>

        <!-- Ankers (alleen voor Woordjes) -->
        <fieldset class="optiegroep" id="fieldset-anker">
          <legend>Kies een anker</legend>
          <div class="row anker-row" data-anker="1" tabindex="0">
            <label><input type="radio" name="anker" value="1" checked> Anker 1</label>
          </div>
          <div class="row anker-row" data-anker="2" tabindex="0">
            <label><input type="radio" name="anker" value="2" disabled> Anker 2</label>
          </div>
          <div class="row anker-row" data-anker="3" tabindex="0">
            <label><input type="radio" name="anker" value="3" disabled> Anker 3</label>
          </div>
          <div id="ankerHint" style="font-size:14px; color:#64748b;">Tip: beweeg je muis over een anker om de woordjes te zien.</div>
        </fieldset>

        <!-- Klinkerset (alleen voor Klinkers) -->
        <fieldset class="optiegroep" id="fieldset-klinkers" style="display:none;">
          <legend>Kies klinkers om te oefenen</legend>
          <div class="chipset" id="klinkerChips">
            <!-- Wordt dynamisch gevuld -->
          </div>
          <div style="margin-top:6px; display:flex; gap:10px; flex-wrap:wrap;">
            <button class="btn" type="button" onclick="selecteerAlleKlinkers(true)">Alles selecteren</button>
            <button class="btn" type="button" onclick="selecteerAlleKlinkers(false)">Alles deselecteren</button>
          </div>
        </fieldset>

        <!-- Oefenmodus -->
        <fieldset class="optiegroep" id="fieldset-modus">
          <legend>Oefenmodus</legend>
          <div class="row">
            <label class="inline"><input type="radio" name="modus" value="woorden" checked onchange="wisselModus()"><span>Aantal items</span></label>
            <input id="aantalInput" type="number" min="1" max="50" value="15" oninput="checkAantal(this.value)">
          </div>
          <div class="row">
            <label class="inline"><input type="radio" name="modus" value="minuten" onchange="wisselModus()"><span>Aantal minuten</span></label>
            <input id="minutenInput" type="number" min="1" max="3" value="1" oninput="checkMinuten(this.value)" disabled>
          </div>
          <div id="errorMsg" style="color:red; font-size:14px; margin:4px 0 2px 0;"></div>
        </fieldset>
      </div>

      <div style="text-align:center; margin-top:8px;">
        <button class="btn" onclick="startToets()">Start</button>
      </div>
    </div>
  </div>

  <!-- Pagina 2: Oefenen -->
  <div id="page2" class="page">
    <div class="card">
      <button class="quit" onclick="abortWithToast()" aria-label="Afbreken (terug naar start)" title="Afbreken">✕</button>
      <h1 class="champion-title" id="page2Title">Lees dit woordje hardop</h1>
      <div id="woord" aria-live="polite">Item</div>
      <div id="subInfo" class="subline"></div>
      <div class="answers" style="text-align:center;">
        <button id="btnJuist" class="btn btn-antwoord" onclick="klikAntwoord(true, this)" aria-label="Juist" title="Juist">Juist</button>
        <button id="btnOnjuist" class="btn btn-antwoord" onclick="klikAntwoord(false, this)" aria-label="Onjuist" title="Onjuist">Onjuist</button>
      </div>
      <div class="kb-hint" style="text-align:center;">Sneltoetsen: <kbd>J</kbd> = Juist, <kbd>F</kbd> = Fout, <kbd>Esc</kbd> = Afbreken</div>
    </div>
  </div>

  <!-- Pagina 3: Resultaten -->
  <div id="page3" class="page">
    <div class="card">
      <h1 class="champion-title">Resultaat</h1>
      <div class="result-hero">
        <div class="trophy"><span>🏆</span></div>
        <div class="cele-title">Resultaat</div>
        <div id="resultaat" class="cele-msg"></div>
        <div class="pill-wrap">
          <div id="pill-tijd" class="pill">Tijd: -- s</div>
          <div id="pill-snel" class="pill secondary">Snelheid: -- wpm</div>
        </div>
      </div>
      <div style="text-align:center;">
        <button class="btn" onclick="opnieuw()">Nog een toetsje doen</button>
      </div>
    </div>
  </div>

  <!-- Feedback & toast -->
  <div id="tapFeedback" aria-hidden="true"></div>
  <div id="toast" role="status" aria-live="polite">Oefening afgebroken</div>

  <script>
    // ============================================================
    // Gegevens
    // ============================================================
    const ankers = {
      1: ['rek','maak','sik','aas','baas','meer','sip','been','vis','vaar','boon','paar','roos','kook','bek','rook','voor','boor','naar','peer','kaak','oom','mis','ree','naam','ik','mes','raam','kaas','saar','beer','sep','nep','meen'],
      2: [],
      3: []
    };

    // Klinkerset met veelgebruikte (Nederlands) klinkers en combinaties
    const KLINKER_OPTIES = [
      'a','e','i','o','u',
      'aa','ee','oo','uu',
      'ie','oe','eu','ui','ei','ij',
      'ou','au'
    ];

    // Kleuren voor het highlighten van (deel)klinkers in woorden
    const highlightKleuren = ['#ef4444','#16a34a','#2563eb'];

    // ============================================================
    // Status
    // ============================================================
    let oefentype = 'woorden'; // 'woorden' | 'klinkers'
    let modus = 'woorden';      // 'woorden' | 'minuten' (betekenis: aantal items of minuten)
    let woorden = [];           // lijst met woorden (voor Woordjes)
    let items = [];             // generieke lijst met te tonen items (woord of klinker)
    let idx = 0, score = 0, startTijd = null, getoond = 0; 
    let timerId = null, endTime = 0;

    // ============================================================
    // UI setup
    // ============================================================
    document.addEventListener('DOMContentLoaded', () => {
      vulKlinkerChips();
      setupHoverRows();
    });

    function wisselType(){
      oefentype = document.querySelector('input[name="type"]:checked').value;
      const fsAnker = document.getElementById('fieldset-anker');
      const fsKlin  = document.getElementById('fieldset-klinkers');
      if(oefentype === 'woorden'){
        fsAnker.style.display = '';
        fsKlin.style.display  = 'none';
        document.getElementById('page2Title').textContent = 'Lees dit woordje hardop';
      } else {
        fsAnker.style.display = 'none';
        fsKlin.style.display  = '';
        document.getElementById('page2Title').textContent = 'Lees deze klinker (klank) hardop';
      }
      document.getElementById('errorMsg').textContent = '';
    }

    function wisselModus(){
      modus = document.querySelector('input[name="modus"]:checked').value;
      const a = document.getElementById('aantalInput');
      const m = document.getElementById('minutenInput');
      if(modus==='woorden'){ a.disabled=false; m.disabled=true; }
      else { a.disabled=true; m.disabled=false; }
      document.getElementById('errorMsg').textContent = '';
    }

    function vulKlinkerChips(){
      const holder = document.getElementById('klinkerChips');
      holder.innerHTML = '';
      KLINKER_OPTIES.forEach(k => {
        const id = 'klink_'+k;
        const label = document.createElement('label');
        label.className = 'chip';
        label.innerHTML = `<input type="checkbox" id="${id}" value="${k}" checked> <span>${k}</span>`;
        holder.appendChild(label);
      });
    }

    function selecteerAlleKlinkers(v){
      document.querySelectorAll('#fieldset-klinkers input[type=checkbox]').forEach(cb => cb.checked = !!v);
    }

    // Hover card logic voor ankers
    function setupHoverRows(){
      document.querySelectorAll('.anker-row').forEach(row=>{
        row.addEventListener('mouseenter', ()=>{ showHoverCardFor(row); });
        row.addEventListener('mouseleave', hideHoverCardSoon);
        row.addEventListener('focus', ()=>{ showHoverCardFor(row); });
        row.addEventListener('blur', hideHoverCardSoon);
      });
      // Hover card element maken (éénmalig)
      const card = document.createElement('div');
      card.id = 'hoverCard';
      card.style.position = 'fixed';
      card.style.display = 'none';
      card.style.zIndex = '30';
      card.style.background = '#fff';
      card.style.color = 'var(--ink)';
      card.style.border = '2px solid var(--ebx-blauw)';
      card.style.borderRadius = '12px';
      card.style.boxShadow = '0 16px 50px rgba(0,0,0,.25)';
      card.style.padding = '10px 12px';
      card.style.maxWidth = 'min(520px, 92vw)';
      card.style.maxHeight = '60vh';
      card.style.overflow = 'auto';
      card.innerHTML = '<h3 style="margin:0 0 8px 0; font-size:16px;">Woordjes bij anker</h3><div class="chips" id="hoverCardContent"></div>';
      document.body.appendChild(card);
    }
    let hoverHideId = null;
    function showHoverCardFor(el){
      const nr = el.getAttribute('data-anker');
      const lijst = ankers[nr] || [];
      const card = document.getElementById('hoverCard');
      const content = card.querySelector('#hoverCardContent');
      content.innerHTML = lijst.length ? lijst.map(w => `<span class="chip">${w}</span>`).join('') : '<em>Woordjes voor dit anker komen binnenkort.</em>';
      const r = el.getBoundingClientRect();
      const pad = 8; const cardWidth = Math.min(520, window.innerWidth*0.92);
      let left = r.left + window.scrollX;
      if(left + cardWidth > window.innerWidth - 10){ left = window.innerWidth - cardWidth - 10; }
      let top = r.bottom + window.scrollY + pad;
      const cardHeight = Math.min(card.scrollHeight, window.innerHeight*0.6);
      if(top + cardHeight > window.scrollY + window.innerHeight){ top = r.top + window.scrollY - cardHeight - pad; }
      card.style.left = left + 'px';
      card.style.top = top + 'px';
      card.style.display = 'block';
      clearTimeout(hoverHideId);
    }
    function hideHoverCardSoon(){
      clearTimeout(hoverHideId);
      hoverHideId = setTimeout(()=>{ const card = document.getElementById('hoverCard'); if(card) card.style.display='none'; }, 120);
    }

    // Pagina wissel
    function showPage(nr){
      document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
      document.getElementById('page'+nr).classList.add('active');
    }

    // Highlight binnen woorden (klinkers en combinaties)
    const combinaties = ['aa','ee','oo','uu','ei','ij','ui','oe','ie','eu','ou','au'];
    const enkelKlinkers = ['a','e','i','o','u'];
    function kleurWoord(woord){
      let i=0, html='';
      while(i<woord.length){
        let gevonden=null;
        for(let comb of combinaties){ if(woord.substring(i,i+comb.length).toLowerCase()===comb){gevonden=comb;break;} }
        if(gevonden){
          const kleur = highlightKleuren[Math.floor(Math.random()*highlightKleuren.length)];
          html += `<span style="color:${kleur}">${woord.substr(i,gevonden.length)}</span>`;
          i += gevonden.length;
        } else {
          const letter = woord[i];
          if(enkelKlinkers.includes(letter.toLowerCase())){
            const kleur = highlightKleuren[Math.floor(Math.random()*highlightKleuren.length)];
            html += `<span style="color:${kleur}">${letter}</span>`;
          } else {
            html += `<span style="color:black">${letter}</span>`;
          }
          i++;
        }
      }
      return html;
    }

    function shuffle(array){ return [...array].sort(()=>Math.random()-0.5); }

    // ============================================================
    // Starten & tonen
    // ============================================================
    function startToets(){
      const err = document.getElementById('errorMsg');
      err.textContent = '';
      idx = 0; score = 0; getoond = 0; startTijd = Date.now(); items = [];

      if(oefentype === 'woorden'){
        const gekozenAnker = document.querySelector('input[name="anker"]:checked')?.value;
        if(!gekozenAnker){ err.textContent = 'Kies eerst een anker.'; return; }
        woorden = ankers[gekozenAnker];
        if(!woorden || woorden.length===0){ err.textContent = 'Dit anker heeft nog geen woorden.'; return; }
        items = shuffle(woorden);
      } else {
        // Klinkers: verzamel selectie
        const gekozen = Array.from(document.querySelectorAll('#fieldset-klinkers input[type=checkbox]:checked')).map(cb => cb.value);
        if(gekozen.length===0){ err.textContent = 'Selecteer minstens één klinker (bijv. aa, ee, ui).'; return; }
        items = shuffle(gekozen);
      }

      if(modus==='woorden'){
        const aantal = parseInt(document.getElementById('aantalInput').value,10);
        if(!Number.isFinite(aantal) || aantal<1 || aantal>50){ err.textContent = 'Vul bij \"Aantal items\" een getal tussen 1 en 50 in.'; return; }
        // Vul aan/trimmen tot gewenste aantal (bij klinkers eventueel herhalen)
        if(items.length < aantal){
          const herhalingen = [];
          while(herhalingen.length < aantal){ herhalingen.push(...shuffle(items)); }
          items = herhalingen.slice(0, aantal);
        } else {
          items = items.slice(0, aantal);
        }
        document.getElementById('subInfo').innerHTML = `<span class="timer">${idx}/${items.length}</span>`;
        showPage(2); toonItem(); focusJuist();
      } else {
        const minuten = parseInt(document.getElementById('minutenInput').value,10);
        if(!Number.isFinite(minuten) || minuten<1 || minuten>3){ err.textContent = 'Vul bij \"Aantal minuten\" een getal tussen 1 en 3 in.'; return; }
        endTime = Date.now() + (minuten * 60 * 1000);
        startTimer();
        document.getElementById('subInfo').innerHTML = `<span class="timer" id="timerBadge"></span>`;
        showPage(2); toonItem(); focusJuist();
      }
    }

    function toonItem(){
      // Herladen van de items bij tijd-modus
      if(modus==='minuten' && idx >= items.length){ items = shuffle(items); idx = 0; }
      const el = document.getElementById('woord');
      const item = items[idx] ?? '';
      if(oefentype === 'woorden'){ el.innerHTML = kleurWoord(item); }
      else { el.innerHTML = `<span style="color:var(--ebx-blauw);">${item}</span>`; }
      if(modus==='woorden'){ document.getElementById('subInfo').innerHTML = `<span class=\"timer\">${idx}/${items.length}</span>`; }
    }

    function klikAntwoord(correct, el){
      el.classList.add('is-pressed');
      setTimeout(()=>el.classList.remove('is-pressed'), 150);
      flashFeedback(!!correct);
      toggleAnswerButtons(true);
      setTimeout(()=>toggleAnswerButtons(false), 100);
      antwoord(correct);
    }

    function antwoord(correct){
      if(correct) score++;
      getoond++; idx++;
      if(modus==='woorden'){
        if(idx < items.length){ toonItem(); } else { eindeToets(); }
      } else {
        if(Date.now() >= endTime){ eindeToets(); } else { toonItem(); }
      }
    }

    function toggleAnswerButtons(disabled){ document.getElementById('btnJuist').disabled = disabled; document.getElementById('btnOnjuist').disabled = disabled; }
    function flashFeedback(ok){ const holder = document.getElementById('tapFeedback'); holder.innerHTML = `<div class="badge ${ok?'ok':'nok'}">${ok?'✓':'✗'}</div>`; holder.classList.add('show'); setTimeout(()=>holder.classList.remove('show'), 200); }

    // Timer
    function startTimer(){ stopTimer(); timerId = setInterval(()=>{ const left = endTime - Date.now(); const badge = document.getElementById('timerBadge'); if(badge) badge.textContent = formatMMSS(left); if(left<=0){ stopTimer(); eindeToets(); } }, 200); }
    function stopTimer(){ if(timerId){ clearInterval(timerId); timerId = null; } }
    function formatMMSS(msLeft){ const total = Math.max(0, Math.floor(msLeft/1000)); const m = Math.floor(total/60); const s = total%60; return `${m}:${String(s).padStart(2,'0')}`; }

    // Einde & resultaten
    function eindeToets(){
      stopTimer();
      const duurSec = Math.max(1, Math.round((Date.now()-startTijd)/1000));
      const totaal = (modus === 'woorden') ? (items.length) : (getoond);
      const wpm = Math.round(((totaal || 0)/duurSec)*60);
      const percentage = totaal > 0 ? Math.round((score / totaal) * 100) : 0;

      // Korte, neutrale feedback
      let extraMelding = '';
      if (percentage < 40){ extraMelding = 'Goed geprobeerd, herhalen helpt!'; }
      else if (percentage < 70){ extraMelding = 'Mooi zo, je bent op de goede weg.'; }
      else if (percentage < 90){ extraMelding = 'Top! Nog even oefenen en je hebt het helemaal.'; }
      else { extraMelding = 'Geweldig! Erg knap gedaan.'; }

      const res = document.getElementById('resultaat');
      res.innerHTML = `${extraMelding}<br><br>` +
                      `Juist: <strong>${score}</strong> van <strong>${totaal}</strong> (${percentage}%)<br>` +
                      `Tijd: <strong>${duurSec}</strong> seconden<br>` +
                      `Snelheid: <strong>${wpm}</strong> items per minuut`;

      // Pills
      document.getElementById('pill-tijd').textContent = `Tijd: ${duurSec} s`;
      document.getElementById('pill-snel').textContent = `Snelheid: ${wpm} ipm`;

      showPage(3);
    }

    // Overig
    function opnieuw(){ showPage(1); }
    function abortWithToast(){ const t = document.getElementById('toast'); t.classList.add('show'); setTimeout(()=>{ location.reload(); }, 500); }
    window.addEventListener('keydown', (e)=>{ const page2Active = document.getElementById('page2').classList.contains('active'); if(!page2Active) return; if(e.key.toLowerCase()==='j'){ klikAntwoord(true, document.getElementById('btnJuist')); } if(e.key.toLowerCase()==='f'){ klikAntwoord(false, document.getElementById('btnOnjuist')); } if(e.key === 'Escape'){ abortWithToast(); } });

    // Validaties
    function checkAantal(val){ const errorMsg = document.getElementById('errorMsg'); errorMsg.textContent = ''; if(String(val).trim()==='') return; const getal = Number(val); if(!Number.isFinite(getal) || !Number.isInteger(getal)){ errorMsg.textContent = 'Vul een heel getal in tussen 1 en 50.'; return; } if(getal < 1 || getal > 50){ errorMsg.textContent = 'Het aantal items moet tussen 1 en 50 liggen.'; } }
    function checkMinuten(val){ const errorMsg = document.getElementById('errorMsg'); errorMsg.textContent = ''; if(String(val).trim()==='') return; const getal = Number(val); if(!Number.isFinite(getal) || !Number.isInteger(getal)){ errorMsg.textContent = 'Vul een heel getal in tussen 1 en 3.'; return; } if(getal < 1 || getal > 3){ errorMsg.textContent = 'Het aantal minuten moet tussen 1 en 3 liggen.'; } }
  </script>
</body>
</html>
